{{ define "main" }}
<content>
  <div class="post-wrapper{{ if eq .Section "blog" }} blog-post{{ end }}">
    <h1>{{ .Title }}</h1>
    
    {{ if .Description }}
    <div class="subtitle-container">
      <h3 class="post-subtitle">{{ .Description }}</h3>
    </div>
    {{ end }}

    {{ if .Params.tags }}
    <div class="tags">
      {{ range .Params.tags }}
      <a href="{{ "/tags/" | relURL }}{{ . | urlize }}" class="tag">#{{ . }}</a>
      {{ end }}
    </div>
    {{ end }}

    <div class="post-meta">
      <time datetime='{{ .Date.Format "2006-01-02" }}'>
        {{ .Date.Format (default "02 Jan, 2006" .Site.Params.dateFormat) }}
      </time>
      <span class="reading-time">â€¢ {{ .ReadingTime }} min read</span>
    </div>
    <hr class="subtitle-rule">
    
    {{ $toc := .TableOfContents }}
    {{ if and $toc (not (eq $toc "<nav id=\"TableOfContents\"></nav>")) (eq .Section "blog") }}
    <div class="toc-sidebar">
      <div class="toc-container">
        <h4>Table of Contents</h4>
        <div class="toc">
          {{ $toc }}
        </div>
      </div>
    </div>
    {{ end }}
    
    {{ .Content }}
  </div>
  
  {{ if eq .Section "blog" }}
  {{ partial "social_sharing.html" . }}
  {{ partial "recommended_posts.html" . }}
  {{ end }}

  {{ if and (eq .Section "blog") (eq .Site.BaseURL "https://keiron.xyz") }}
  <div id="comments-section">
    <script defer src="https://cdn.commento.io/js/commento.js"></script>
    <div id="commento"></div>
  </div>
  {{ end }}

  {{ if .Site.Params.enablePostNavigator }}
  {{ partial "post_navigator.html" . }}
  {{ end }}
</content>
{{ end }}